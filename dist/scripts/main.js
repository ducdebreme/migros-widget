!function(a){a.fn.migrosWidget=function(){function b(){var b=a(this),c=b.attr("name"),d=a('<input type="text">').attr("class",c+"-filter"),e=a('<input type="hidden">').attr("name",c),f=a('<ul class="list-items unstyled"></ul>'),g=function(){var b,c,d=a(this);b=d.text(),c=d.val()||b,d.is("option")?a('<li data-value="'+c+'" class="selectable">'+b+"</li>").appendTo(f):d.is("optgroup")&&(a('<li class="group-label">'+a(this).attr("label")+"</li>").appendTo(f),d.children().each(g))};b.children().each(g);var h=a('<div class="migros-selector"></div>').append(d,e,f);b.replaceWith(h);var i=a(".list-items",h);i.searcher({inputSelector:"."+c+"-filter",itemSelector:"li",textSelector:""}),a(".selectable",i).click(function(){a(".selected",i).removeClass("selected"),a(this).addClass("selected");var b=a(this).data("value");e.val(b)})}return this.each(b)}}(jQuery),$(".migros-selector-behavior").migrosWidget();